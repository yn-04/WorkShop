@model IReadOnlyList<myproject.Core.Entities.User>
@{
    Layout = "_Layout.cshtml";
}
<h2>Users</h2>
<form method="get" class="row g-2 mb-3">
  <div class="col-auto">
    <input class="form-control" name="email" placeholder="email contains..." value="@Request.Query["email"]" />
  </div>
  <div class="col-auto">
    <select class="form-select" name="isActive">
      <option value="">-- any status --</option>
      <option value="true" selected="@(Request.Query["isActive"] == "true")">Active</option>
      <option value="false" selected="@(Request.Query["isActive"] == "false")">Inactive</option>
    </select>
  </div>
  <div class="col-auto">
    <button class="btn btn-primary" type="submit">Search</button>
    <a class="btn btn-success" href="/Users/Create">Create</a>
  </div>
</form>

<table class="table table-striped table-bordered bg-white">
  <thead>
    <tr>
      <th>Id</th>
      <th>Email</th>
      <th>Display Name</th>
      <th>Status</th>
      <th>Created</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
  @foreach (var u in Model)
  {
    <tr>
      <td>@u.Id</td>
      <td>@u.Email</td>
      <td>@u.DisplayName</td>
      <td>@(u.IsActive ? "Active" : "Inactive")</td>
      <td>@u.CreatedAt.ToString("u")</td>
      <td class="text-nowrap">
        <a class="btn btn-sm btn-outline-secondary" href="/Users/Edit/@u.Id">Edit</a>
        <form method="post" action="/Users/Delete/@u.Id" class="d-inline">
            <input type="hidden" name="id" value="@u.Id" />
            <button class="btn btn-sm btn-outline-danger" onclick="return confirm('Delete user?')" type="submit">Delete</button>
        </form>
      </td>
    </tr>
  }
  </tbody>
</table>
